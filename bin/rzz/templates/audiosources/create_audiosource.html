{% extends "base_jquery_ui.html" %}

{% block scripts %}
  <script type="text/javascript" src="{{ MEDIA_URL }}js/select.js"></script>
  <script type="text/javascript" src="{{ MEDIA_URL }}js/audiosources.js"></script>
  <script type="text/javascript" src="{{ MEDIA_URL }}js/jquery.form.js"></script> 
{% endblock %}

{% block content %}
  <div id="tag_selector_header" class="selector">
    <div class="head_and_foot">
    <h4> Tags:</h4> 
    </div>
  </div>
  <div id="tag_selector_container" class="selector">
    <div id="tag_selector">
    </div>
  </div>
  <div id="track_selector_container" class="track_selector_align selector selector_container">
    <div id="track_selector">
    </div>
  </div>
  <div id="track_selector_footer" class="track_selector_align">
    <div class="head_and_foot">
      <button id="add_to_playlist_button" type="button"> Selectionner </button>
    </div>
  </div>
  <div id="track_selector_header" class="track_selector_align selector">
    <div class="head_and_foot">
      <h4> Browse:</h4> 
      <div id="source_type">
        <span class="choice_selector unselectable" id="audiofile_select">Tracks</span>
        <span class="choice_selector unselectable" id="audiosource_select">Sources</span>
      </div>
      <input type="text" id="text_selector"/>
    </div>
  </div>
  <div id="main">
    <h2>Créer une nouvelle playlist</h2>
    <p> Nom de la playlist: <input type="text" name="playlist_title" value=""/> </p>
    <div id="audiofile_forms">
      <h3>Envoyer des morceaux:</h3>
      {% include "audiosources/audiofile_form.html" %}
    </div>
    <h3>Ordre des morceaux:</h3>
    <div class="playlist_box">
      <ul id="uploaded_audiofiles">
      {% for audiofile in audiofiles %}
        <li class="ui-state-default">
          <input type="hidden" value="{{ audiofile.id }}"/>
          <p> Titre: {{ audiofile.title }} Artiste: {{ audiofile.artist }} </p>
          <div class="audiofile_actions"> <a href="{{ audiofile.form_url }}">Edit</a> </div>
        </li>
      {% endfor %}
      </ul>
    </div>
    <p> Durée de la playlist : <span id="playlist_length"></span> </p>
    <div id="audiofiles_actions_container"></div>
    <input type="submit" name="playlist_submit" value="Créer la playlist"/>
  </div>
{% endblock %}
